<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tovian Guide</title>
    <link rel="stylesheet" href="../styles.css" />
    <script defer src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
    <script defer src="../CsvToTable.js"></script>
    <script defer src="../app.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container row between center">
        <a class="brand" href="../index.html#home">Tovian</a>
        <nav class="nav row">
          <a href="../index.html#dictionary">Dictionary</a>
          <a href="./">Guide</a>
          <a href="../index.html#ask">Ask</a>
        </nav>
        <div class="row gap" style="flex:1; justify-content:flex-end;">
          <input id="quickSearch" class="input" style="max-width:340px" placeholder="Quick searchâ€¦" />
          <button id="themeToggle" class="btn ghost" aria-label="Toggle theme">ðŸŒ“</button>
        </div>
      </div>
    </header>
    <main class="section">
      <div class="container">
        <h1>Tovian Guide</h1>
        <p class="muted">From zero to fluency: structured pages you can expand. Use the sidebar in any guide page to jump between topics.</p>
        <div class="cards" id="guideCards"></div>
        <p style="margin-top:12px"><a class="btn" href="../guide.pdf" download>Download full PDF guide</a></p>
        <div id="quickResults" class="list"></div>
      </div>
    </main>
    <script>
      // Build landing cards from the manifest
      fetch('manifest.json').then(r=>r.json()).then(list=>{
        const wrap = document.getElementById('guideCards');
        list.forEach(p=>{
          const a = document.createElement('a');
          a.className = 'card'; a.href = p.path;
          const summary = p.summary || 'Overview and key concepts for this topic.';
          a.innerHTML = `<h3>${p.title}</h3><p class="muted">${summary}</p>`;
          wrap.appendChild(a);
        })
      })
    </script>
  </body>
  </html>
